---
layout: post
title: How to use Rails routes in Steak scenarios (and RSpec specs)
date: 2010-11-19 16:22:09.000000000 -05:00
categories:
- general
tags: []
status: publish
type: post
published: true
---
<p>Want to use Rails' routes in your Steak scenarios (or any type of RSpec specs)? No problem. Here's what you want:</p>
<p><code lang="ruby"># In spec_helper.rb</p>
<p>RSpec.configure do |config|<br />
# Make the rails routes available in all specs<br />
config.include Rails.application.routes.url_helpers</p>
<p># or </p>
<p># Make them available only in Steak scenarios<br />
config.include Rails.application.routes.url_helpers, :type => :acceptance<br />
end</code></p>
<p>Fair warning: I've seen some folks say that you shouldn't do this, and instead should define your routes in paths.rb. This way testing your routes is part of your acceptance suite.</p>
<p>I see where they're coming from, but this just doesn't seem worth it to me. I don't find routes to be a very bug-prone area in my apps, so keeping duplicate my routes in two files is too high a price to pay.</p>
<p>I've been using Rails' built-in route helpers in my specs for several months now, and can't think of a single routing issue that's come up. YMMV.</p>
